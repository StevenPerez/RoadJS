!function(t){"use strict";var e="cuid",r=0,o=4,i=36,n=Math.pow(i,o),a=function(t,e){var r="000000000"+t;return r.substr(r.length-e)},c=function(){return a((Math.random()*n<<0).toString(i),o)},u=function(){return r=n>r?r:0,r++,r-1},f=function(){var r,t="c",e=(new Date).getTime().toString(i),n=f.fingerprint(),s=c()+c();return r=a(u().toString(i),o),t+e+r+n+s};f.slug=function(){var e,t=(new Date).getTime().toString(36),r=f.fingerprint().slice(0,1)+f.fingerprint().slice(-1),o=c().slice(-2);return e=u().toString(36).slice(-4),t.slice(-2)+e+r+o},f.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return f.globalCount=function(){return t},t},f.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+f.globalCount().toString(36),4)},t.register?t.register(e,f):"undefined"!=typeof module?module.exports=f:t[e]=f}(this.applitude||this);var road=function(){function r(t,e){try{for(var r in t)e.hasOwnProperty(r)&&(e[r]=t[r])}catch(o){throw o}}function o(t){if(!t)throw"Missing cuid";if("number"==typeof t)throw"cuid value should be String"}var t=[],e=[];return{add:function(e,r,o){try{r=r||{},r.sendBack=r.sendBack||!1,o=o||"new";var i=0;if(!e)throw"Missing object to be included";if(i=e.length||1,i>1)for(var n=0;i>n;n++){"recovered"!=o&&(e[n].cuid=cuid()),e[n].status=o;var a={};$.extend(a,e[n]),t.push(a)}else{"recovered"!=o&&(e.cuid=cuid()),e.status=o;var a={};$.extend(a,e),t.push(a)}if(r.sendBack)return e}catch(c){throw c}},remove:function(r){try{if(o(r),0==this.length())throw"No data in memory";var i=t.map(function(t){return t.cuid}).indexOf(r);if(!(i>=0))return null;var n=this.getByCUID(r);n.status="removed",e.push(n),t.splice(i,1)}catch(a){throw a}},update:function(t,e){try{if(!t)throw"Missing object";if(e&&"number"==typeof e)throw"cuid value should be String";var o=0;if(!t)throw"Missing object to be included";if(o=t.length||1,o>1)for(var i=0;o>i;i++){if(!t[i].cuid)throw"For array updates it is required the cuid property on each object.";var n=this.getByCUID(t[i].cuid,!1);if(void 0==n)throw"No item found for cuid "+e.toString();r(t[i],n),n.status="changed"}else{if(!t.cuid&&!e)throw"Missing cuid";!e&&t.cuid&&(e=e||t.cuid);var n=this.getByCUID(e.toString(),!1);if(void 0==n)throw"No item found for cuid "+e.toString();r(t,n),n.cuid=e.toString(),n.status="changed"}}catch(a){throw a}},"delete":function(t){try{o(t);var e=this.getByCUID(t,!1);if(void 0==e||e==[])throw"No item found for cuid "+t.toString();e.cuid=t,e.status="deleted"}catch(r){throw r}},setData:function(e){try{t=[],t=this.add(e,{sendBack:!0},"origin")}catch(r){throw r}},getAll:function(){try{return t}catch(e){throw e}},getByCUID:function(e,r){try{void 0==r&&(r=!0),o(e);var i=t.filter(function(t){return t.cuid==e})[0];if(!i)throw"No item found for cuid "+e;if(r){var n={};return $.extend(n,i),n}return i}catch(a){return a}},length:function(){try{return t.length}catch(e){throw e}},filter:function(e){try{var r=[],o=[];return $.extend(o,t),o.forEach(function(t){e(t)&&r.push(t)}),r}catch(i){throw i}},getAllRemoved:function(){try{return e}catch(t){throw t}},getRemovedByCUID:function(t,r){try{void 0==r&&(r=!0),o(t);var i=e.filter(function(e){return e.cuid==t})[0];if(!i)throw"No item found for cuid "+t;if(r){var n={};return $.extend(n,i),n}return i}catch(a){return a}},cleanRemoved:function(){try{e=[]}catch(t){throw t}},lengthRemoved:function(){try{return e.length}catch(t){throw t}},destroyRemovedByCUID:function(t){try{if(o(t),0==this.lengthRemoved())throw"No data in memory";var r=e.map(function(t){return t.cuid}).indexOf(t);if(!(r>=0))return null;e.splice(r,1)}catch(i){throw i}},recoverRemovedByCUID:function(t){try{if(o(t),0==this.lengthRemoved())throw"No data in memory";var e=this.getRemovedByCUID(t);if(!e)throw"No item found for cuid "+t.toString();this.add(e,null,"recovered"),this.destroyRemovedByCUID(t)}catch(r){throw r}},recoverAllRemoved:function(){try{if(0==this.lengthRemoved())throw"No data in memory";for(var t=0;t<this.lengthRemoved();t++)this.add(e[t],null,"recovered");this.cleanRemoved()}catch(r){throw r}},filterRemoved:function(t){try{var r=[],o=[];return $.extend(o,e),o.forEach(function(e){t(e)&&r.push(e)}),r}catch(i){throw i}},isLocalStorageSupported:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},saveLocalStorage:function(){try{if(!this.isLocalStorageSupported())throw"No local storage supported.";localStorage.live=JSON.stringify(t),localStorage.removed=JSON.stringify(e)}catch(r){throw r}},loadLocalStorage:function(){try{if(!this.isLocalStorageSupported())throw"No local storage supported.";t=[],e=[],t=JSON.parse(localStorage.live),e=JSON.parse(localStorage.removed)}catch(r){throw r}},cleanLocalStorage:function(){try{if(!this.isLocalStorageSupported())throw"No local storage supported.";localStorage.live=null,localStorage.removed=null}catch(t){throw t}},serverLoad:function(e){try{var r={};if(!e)throw"Missing ajax url parameter";r.async=!1,r.method="GET",r.url=e,t=[];var o=$.ajax(r).responseText;"string"==typeof o&&(o=JSON.parse(o)),o&&this.add(o,{},"origin")}catch(i){throw i}},serverSendAll:function(e,r){try{var o={};if(void 0==r&&(r=!1),!e)throw"Missing ajax url parameter";if(!t||t==[])throw"No data found.";o.data=0==r?{data:t}:JSON.stringify(t),o.async=!1,o.method="POST",o.url=e;var i=$.ajax(o).responseText;return i}catch(n){throw n}},serverSendAllRemoved:function(t,r){try{var o={};if(void 0==r&&(r=!1),!t)throw"Missing ajax url parameter";if(!e||e==[])throw"No data found.";o.data=0==r?{data:e}:JSON.stringify(e),o.async=!1,o.method="POST",o.url=t;var i=$.ajax(o).responseText;return i}catch(n){throw n}},serverSendFilter:function(r,o,i){try{var n={};if(void 0==i&&(i=!1),!r)throw"Missing ajax url parameter";if(!o)throw"Missing filter criteria parameter";if(!t||t==[]&&!e||e==[])throw"No data found.";var a=[];this.filter(o).forEach(function(t){a.push(t)}),this.filterRemoved(o).forEach(function(t){a.push(t)}),n.data=0==i?{data:a}:JSON.stringify(a),n.async=!1,n.method="POST",n.url=r;var c=$.ajax(n).responseText;return c}catch(u){throw u}},serverSendByCUID:function(t,e,r){try{var i={};if(o(t),void 0==r&&(r=!1),!e)throw"Missing ajax url parameter";var n=this.getByCUID(t);if(n||(n=this.getRemovedByCUID(t)),"string"==typeof n)throw"No item found for cuid "+t;i.data=0==r?n:JSON.stringify(n),i.async=!1,i.method="POST",i.url=e;var a=$.ajax(i).responseText;return a}catch(c){throw c}}}};