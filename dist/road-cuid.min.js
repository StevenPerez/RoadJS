!function(t){"use strict";var e="cuid",r=0,o=4,n=36,i=Math.pow(n,o),a=function(t,e){var r="000000000"+t;return r.substr(r.length-e)},f=function(){return a((Math.random()*i<<0).toString(n),o)},u=function(){return r=i>r?r:0,r++,r-1},c=function(){var r,t="c",e=(new Date).getTime().toString(n),i=c.fingerprint(),d=f()+f();return r=a(u().toString(n),o),t+e+r+i+d};c.slug=function(){var e,t=(new Date).getTime().toString(36),r=c.fingerprint().slice(0,1)+c.fingerprint().slice(-1),o=f().slice(-2);return e=u().toString(36).slice(-4),t.slice(-2)+e+r+o},c.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return c.globalCount=function(){return t},t},c.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+c.globalCount().toString(36),4)},t.register?t.register(e,c):"undefined"!=typeof module?module.exports=c:t[e]=c}(this.applitude||this);var road=function(){function r(t,e){try{for(var r in t)e.hasOwnProperty(r)&&(e[r]=t[r])}catch(o){throw o}}function o(t){if(!t)throw"Missing cuid";if("number"==typeof t)throw"cuid value should be String"}var t=[],e=[];return Array.prototype.distinct=function(){var e,r,o,t=[this[0]];for(e=1;e<this.length;e++){for(o=1,r=0;r<t.length;r++)if(this[e]==t[r]){o=0;break}o&&t.push(this[e])}return t},{add:function(e,r,o){try{r=r||{},r.sendBack=r.sendBack||!1,o=o||"new";var n=0;if(!e)throw"Missing object to be included";if(n=e.length||1,n>1)for(var i=0;n>i;i++){"recovered"!=o&&(e[i].cuid=cuid()),e[i].status=o;var a={};$.extend(a,e[i]),t.push(a),"function"==typeof r.ok&&r.ok(a)}else{"recovered"!=o&&(e.cuid=cuid()),e.status=o;var a={};$.extend(a,e),t.push(a),"function"==typeof r.ok&&r.ok(a)}if(r.sendBack)return e;"function"==typeof r.end&&r.end(e)}catch(f){throw"function"==typeof r.err&&r.err(f),f}},remove:function(r,n){try{if(n=n||{},o(r),0==this.length())throw"No data in memory";var i=t.map(function(t){return t.cuid}).indexOf(r);if(!(i>=0))return null;var a=this.getByCUID(r);a.status="removed",e.push(a),t.splice(i,1),"function"==typeof n.ok&&n.ok(a),"function"==typeof n.end&&n.end()}catch(f){throw"function"==typeof n.err&&n.err(f),f}},update:function(t,e,o){try{if(o=o||{},!t)throw"Missing object";if(e&&"number"==typeof e)throw"cuid value should be String";var n=0;if(!t)throw"Missing object to be included";if(n=t.length||1,n>1)for(var i=0;n>i;i++){if(!t[i].cuid)throw"For array updates it is required the cuid property on each object.";var a=this.getByCUID(t[i].cuid,!1);if(void 0==a)throw"No item found for cuid "+e.toString();r(t[i],a),a.status="changed","function"==typeof o.ok&&o.ok(a)}else{if(!t.cuid&&!e)throw"Missing cuid";!e&&t.cuid&&(e=e||t.cuid);var a=this.getByCUID(e.toString(),!1);if(void 0==a)throw"No item found for cuid "+e.toString();r(t,a),a.cuid=e.toString(),a.status="changed","function"==typeof o.ok&&o.ok(a)}"function"==typeof o.end&&o.end()}catch(f){throw"function"==typeof o.err&&o.err(f),f}},"delete":function(t,e){try{e=e||{},o(t);var r=this.getByCUID(t,!1);if(void 0==r||r==[])throw"No item found for cuid "+t.toString();r.cuid=t,r.status="deleted","function"==typeof e.ok&&e.ok(r),"function"==typeof e.end&&e.end()}catch(n){throw"function"==typeof e.err&&e.err(n),n}},setData:function(e,r){try{r=r||{},t=[],t=this.add(e,{sendBack:!0},"origin"),"function"==typeof r.ok&&r.ok(t),"function"==typeof r.end&&r.end()}catch(o){throw"function"==typeof r.err&&r.err(o),o}},getAll:function(e){try{return e=e||{},"function"==typeof e.ok&&e.ok(t),"function"==typeof e.end&&e.end(),t}catch(r){throw"function"==typeof e.err&&e.err(r),r}},getByCUID:function(e,r,n){try{n=n||{},void 0==r&&(r=!0),o(e);var i=t.filter(function(t){return t.cuid==e})[0];if(!i)throw"No item found for cuid "+e;if(r){var a={};return $.extend(a,i),"function"==typeof n.ok&&n.ok(a),"function"==typeof n.end&&n.end(),a}return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}},length:function(e){try{return e=e||{},"function"==typeof e.ok&&e.ok(t.length),"function"==typeof e.end&&e.end(),t.length}catch(r){throw"function"==typeof e.err&&e.err(r),r}},filter:function(e,r){try{r=r||{};var o=[],n=[];return $.extend(n,t),n.forEach(function(t){e(t)&&("function"==typeof r.ok&&r.ok(t),o.push(t))}),"function"==typeof r.end&&r.end(o),o}catch(i){throw"function"==typeof r.err&&r.err(i),i}},map:function(e,r){try{r=r||{};var n=[];$.extend(n,t);var i=n.map(e);return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(a){throw"function"==typeof r.err&&r.err(a),a}},uniqueProp:function(e,r){try{r=r||{};if(void 0==e)throw"Missing property name.";if("string"!=typeof e||0==e.length)throw"Property name should be String";var n=[];$.extend(n,t);var i=n.map(function(t){return t[e]}).distinct();return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(a){throw"function"==typeof r.err&&r.err(a),a}},getAllRemoved:function(t){try{return t=t||{},"function"==typeof t.ok&&t.ok(e),"function"==typeof t.end&&t.end(),e}catch(r){throw"function"==typeof t.err&&t.err(r),r}},getRemovedByCUID:function(t,r,n){try{n=n||{},void 0==r&&(r=!0),o(t);var i=e.filter(function(e){return e.cuid==t})[0];if(!i)throw"No item found for cuid "+t;if(r){var a={};return $.extend(a,i),"function"==typeof n.ok&&n.ok(a),"function"==typeof n.end&&n.end(),a}return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}},cleanRemoved:function(t){try{t=t||{},"function"==typeof t.ok&&t.ok(),"function"==typeof t.end&&t.end(),e=[]}catch(r){throw"function"==typeof t.err&&t.err(r),r}},lengthRemoved:function(t){try{return t=t||{},"function"==typeof t.ok&&t.ok(e.length),"function"==typeof t.end&&t.end(),e.length}catch(r){throw"function"==typeof t.err&&t.err(r),r}},destroyRemovedByCUID:function(t,r){try{if(r=r||{},o(t),0==this.lengthRemoved())throw"No data in memory";var n=e.map(function(t){return t.cuid}).indexOf(t);if(!(n>=0))return null;e.splice(n,1),"function"==typeof r.ok&&r.ok(n),"function"==typeof r.end&&r.end()}catch(i){throw"function"==typeof r.err&&r.err(i),i}},recoverRemovedByCUID:function(t,e){try{if(e=e||{},o(t),0==this.lengthRemoved())throw"No data in memory";var r=this.getRemovedByCUID(t);if(!r)throw"No item found for cuid "+t.toString();this.add(r,null,"recovered"),this.destroyRemovedByCUID(t),"function"==typeof e.ok&&e.ok(r),"function"==typeof e.end&&e.end()}catch(n){throw"function"==typeof e.err&&e.err(n),n}},recoverAllRemoved:function(t){try{if(t=t||{},0==this.lengthRemoved())throw"No data in memory";for(var r=0;r<this.lengthRemoved();r++)this.add(e[r],null,"recovered"),"function"==typeof t.ok&&t.ok(e[r]);this.cleanRemoved(),"function"==typeof t.end&&t.end()}catch(o){throw"function"==typeof t.err&&t.err(o),o}},filterRemoved:function(t,r){try{r=r||{};var o=[],n=[];return $.extend(n,e),n.forEach(function(e){t(e)&&("function"==typeof r.ok&&r.ok(e),o.push(e))}),"function"==typeof r.end&&r.end(o),o}catch(i){throw"function"==typeof r.err&&r.err(i),i}},mapRemoved:function(t,r){try{r=r||{};var n=[];$.extend(n,e);var i=n.map(t);return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(a){throw"function"==typeof r.err&&r.err(a),a}},uniquePropRemoved:function(t,r){try{r=r||{};if(void 0==t)throw"Missing property name.";if("string"!=typeof t||0==t.length)throw"Property name should be String";var n=[];$.extend(n,e);var i=n.map(function(e){return e[t]}).distinct();return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(a){throw"function"==typeof r.err&&r.err(a),a}},isLocalStorageSupported:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){throw"function"==typeof fun.err&&fun.err(t),t}},saveLocalStorage:function(r){try{if(r=r||{},!this.isLocalStorageSupported())throw"No local storage supported.";localStorage.live=JSON.stringify(t),localStorage.removed=JSON.stringify(e),"function"==typeof r.ok&&r.ok(),"function"==typeof r.end&&r.end()}catch(o){throw"function"==typeof r.err&&r.err(o),o}},loadLocalStorage:function(r){try{if(r=r||{},!this.isLocalStorageSupported())throw"No local storage supported.";t=[],e=[],t=JSON.parse(localStorage.live),e=JSON.parse(localStorage.removed),"function"==typeof r.ok&&r.ok(),"function"==typeof r.end&&r.end()}catch(o){throw"function"==typeof r.err&&r.err(o),o}},cleanLocalStorage:function(t){try{if(t=t||{},!this.isLocalStorageSupported())throw"No local storage supported.";localStorage.live=null,localStorage.removed=null,"function"==typeof t.ok&&t.ok(),"function"==typeof t.end&&t.end()}catch(e){throw"function"==typeof t.err&&t.err(e),e}},serverLoad:function(e,r){try{r=r||{};var o={};if(!e)throw"Missing ajax url parameter";o.async=!1,o.method="GET",o.url=e,t=[];var n=$.ajax(o).responseText;"string"==typeof n&&(n=JSON.parse(n)),n&&this.add(n,{},"origin"),"function"==typeof r.ok&&r.ok(n),"function"==typeof r.end&&r.end()}catch(i){throw"function"==typeof r.err&&r.err(i),i}},serverSendAll:function(e,r,o){try{o=o||{};var n={};if(void 0==r&&(r=!1),!e)throw"Missing ajax url parameter";if(!t||t==[])throw"No data found.";n.data=0==r?{data:t}:JSON.stringify(t),n.async=!1,n.method="POST",n.url=e;var i=$.ajax(n).responseText;return"function"==typeof o.ok&&o.ok(i),"function"==typeof o.end&&o.end(),i}catch(a){throw"function"==typeof o.err&&o.err(a),a}},serverSendAllMap:function(r,o,n,i){try{i=i||{};var a={};if(void 0==n&&(n=!1),!r)throw"Missing ajax url parameter";if(!t||t==[]&&!e||e==[])throw"No data found.";var f=[];this.filter(o).forEach(function(t){f.push(t)}),this.filterRemoved(o).forEach(function(t){f.push(t)}),a.data=0==n?{data:f.map(o)}:JSON.stringify(f.map(o)),a.async=!1,a.method="POST",a.url=r;var u=$.ajax(a).responseText;return"function"==typeof i.ok&&i.ok(u),"function"==typeof i.end&&i.end(),u}catch(c){throw"function"==typeof i.err&&i.err(c),c}},serverSendAllRemoved:function(t,r,o){try{o=o||{};var n={};if(void 0==r&&(r=!1),!t)throw"Missing ajax url parameter";if(!e||e==[])throw"No data found.";n.data=0==r?{data:e}:JSON.stringify(e),n.async=!1,n.method="POST",n.url=t;var i=$.ajax(n).responseText;return"function"==typeof o.ok&&o.ok(i),"function"==typeof o.end&&o.end(),i}catch(a){throw"function"==typeof o.err&&o.err(a),a}},serverSendFilter:function(r,o,n,i){try{i=i||{};var a={};if(void 0==n&&(n=!1),!r)throw"Missing ajax url parameter";if(!o)throw"Missing filter criteria parameter";if(!t||t==[]&&!e||e==[])throw"No data found.";var f=[];this.filter(o).forEach(function(t){f.push(t)}),this.filterRemoved(o).forEach(function(t){f.push(t)}),a.data=0==n?{data:f}:JSON.stringify(f),a.async=!1,a.method="POST",a.url=r;var u=$.ajax(a).responseText;return"function"==typeof i.ok&&i.ok(u),"function"==typeof i.end&&i.end(),u}catch(c){throw"function"==typeof i.err&&i.err(c),c}},serverSendByCUID:function(t,e,r,n){try{n=n||{};var i={};if(o(t),void 0==r&&(r=!1),!e)throw"Missing ajax url parameter";var a=this.getByCUID(t);if(a||(a=this.getRemovedByCUID(t)),"string"==typeof a)throw"No item found for cuid "+t;i.data=0==r?a:JSON.stringify(a),i.async=!1,i.method="POST",i.url=e;var f=$.ajax(i).responseText;return"function"==typeof n.ok&&n.ok(a,f),"function"==typeof n.end&&n.end(f),f}catch(u){throw"function"==typeof n.err&&n.err(u),u}}}};