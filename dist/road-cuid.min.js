!function(t){"use strict";var e="cuid",n=0,r=4,o=36,i=Math.pow(o,r),f=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},u=function(){return f((Math.random()*i<<0).toString(o),r)},c=function(){return n=i>n?n:0,n++,n-1},a=function(){var n,t="c",e=(new Date).getTime().toString(o),i=a.fingerprint(),d=u()+u();return n=f(c().toString(o),r),t+e+n+i+d};a.slug=function(){var e,t=(new Date).getTime().toString(36),n=a.fingerprint().slice(0,1)+a.fingerprint().slice(-1),r=u().slice(-2);return e=c().toString(36).slice(-4),t.slice(-2)+e+n+r},a.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return a.globalCount=function(){return t},t},a.fingerprint=function(){return f((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+a.globalCount().toString(36),4)},t.register?t.register(e,a):"undefined"!=typeof module?module.exports=a:t[e]=a}(this.applitude||this);var road=function(){function n(t,e){try{for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n])}catch(r){throw r}}function r(t){if(!t)throw"Missing cuid";if("number"==typeof t)throw"cuid value should be String"}function o(e,n,r){try{n=n||{},n.sendBack=n.sendBack||!1,r=r||"new";var o=0;if(!e)throw"Missing object to be included";if(o=e.length||1,o>1)for(var i=0;o>i;i++){"recovered"!=r&&(e[i].cuid=cuid()),e[i].status=r;var f={};$.extend(f,e[i]),t.push(f),"function"==typeof n.ok&&n.ok(f)}else{"recovered"!=r&&(e.cuid=cuid()),e.status=r;var f={};$.extend(f,e),t.push(f),"function"==typeof n.ok&&n.ok(f)}if(n.sendBack)return e;"function"==typeof n.end&&n.end(e)}catch(u){throw"function"==typeof n.err&&n.err(u),u}}function i(n,o){try{if(o=o||{},r(n),0==s())throw"No data in memory";var i=t.map(function(t){return t.cuid}).indexOf(n);if(!(i>=0))return null;var f=d(n);f.status="removed",e.push(f),t.splice(i,1),"function"==typeof o.ok&&o.ok(f),"function"==typeof o.end&&o.end()}catch(u){throw"function"==typeof o.err&&o.err(u),u}}function f(t,e,r){try{if(r=r||{},!t)throw"Missing object";if(e&&"number"==typeof e)throw"cuid value should be String";var o=0;if(!t)throw"Missing object to be included";if(o=t.length||1,o>1)for(var i=0;o>i;i++){if(!t[i].cuid)throw"For array updates it is required the cuid property on each object.";var f=d(t[i].cuid,!1);if(void 0==f)throw"No item found for cuid "+e.toString();n(t[i],f),f.status="changed","function"==typeof r.ok&&r.ok(f)}else{if(!t.cuid&&!e)throw"Missing cuid";!e&&t.cuid&&(e=e||t.cuid);var f=d(e.toString(),!1);if(void 0==f)throw"No item found for cuid "+e.toString();n(t,f),f.cuid=e.toString(),f.status="changed","function"==typeof r.ok&&r.ok(f)}"function"==typeof r.end&&r.end()}catch(u){throw"function"==typeof r.err&&r.err(u),u}}function u(t,e){try{e=e||{},r(t);var n=d(t,!1);if(void 0==n||n==[])throw"No item found for cuid "+t.toString();n.cuid=t,n.status="deleted","function"==typeof e.ok&&e.ok(n),"function"==typeof e.end&&e.end()}catch(o){throw"function"==typeof e.err&&e.err(o),o}}function c(e,n){try{n=n||{},t=[],t=o(e,{sendBack:!0},"origin"),"function"==typeof n.ok&&n.ok(t),"function"==typeof n.end&&n.end()}catch(r){throw"function"==typeof n.err&&n.err(r),r}}function a(e){try{return e=e||{},"function"==typeof e.ok&&e.ok(t),"function"==typeof e.end&&e.end(),t}catch(n){throw"function"==typeof e.err&&e.err(n),n}}function d(e,n,o){try{o=o||{},void 0==n&&(n=!0),r(e);var i=t.filter(function(t){return t.cuid==e})[0];if(!i)throw"No item found for cuid "+e;if(n){var f={};return $.extend(f,i),"function"==typeof o.ok&&o.ok(f),"function"==typeof o.end&&o.end(),f}return"function"==typeof o.ok&&o.ok(i),"function"==typeof o.end&&o.end(),i}catch(u){throw"function"==typeof o.err&&o.err(u),u}}function s(e){try{return e=e||{},"function"==typeof e.ok&&e.ok(t.length),"function"==typeof e.end&&e.end(),t.length}catch(n){throw"function"==typeof e.err&&e.err(n),n}}function p(e,n){try{n=n||{};var r=[],o=[];return $.extend(o,t),o.forEach(function(t){e(t)&&("function"==typeof n.ok&&n.ok(t),r.push(t))}),"function"==typeof n.end&&n.end(r),r}catch(i){throw"function"==typeof n.err&&n.err(i),i}}function y(e,n){try{n=n||{};var o=[];$.extend(o,t);var i=o.map(e);return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}}function l(e,n){try{n=n||{};if(void 0==e)throw"Missing property name.";if("string"!=typeof e||0==e.length)throw"Property name should be String";var o=[];$.extend(o,t);var i=o.map(function(t){return t[e]}).distinct();return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}}function h(t){try{return t=t||{},"function"==typeof t.ok&&t.ok(e),"function"==typeof t.end&&t.end(),e}catch(n){throw"function"==typeof t.err&&t.err(n),n}}function g(t,n,o){try{o=o||{},void 0==n&&(n=!0),r(t);var i=e.filter(function(e){return e.cuid==t})[0];if(!i)throw"No item found for cuid "+t;if(n){var f={};return $.extend(f,i),"function"==typeof o.ok&&o.ok(f),"function"==typeof o.end&&o.end(),f}return"function"==typeof o.ok&&o.ok(i),"function"==typeof o.end&&o.end(),i}catch(u){throw"function"==typeof o.err&&o.err(u),u}}function v(t){try{t=t||{},"function"==typeof t.ok&&t.ok(),"function"==typeof t.end&&t.end(),e=[]}catch(n){throw"function"==typeof t.err&&t.err(n),n}}function w(t){try{return t=t||{},"function"==typeof t.ok&&t.ok(e.length),"function"==typeof t.end&&t.end(),e.length}catch(n){throw"function"==typeof t.err&&t.err(n),n}}function k(t,n){try{if(n=n||{},r(t),0==w())throw"No data in memory";var o=e.map(function(t){return t.cuid}).indexOf(t);if(!(o>=0))return null;e.splice(o,1),"function"==typeof n.ok&&n.ok(o),"function"==typeof n.end&&n.end()}catch(i){throw"function"==typeof n.err&&n.err(i),i}}function m(t,e){try{if(e=e||{},r(t),0==w())throw"No data in memory";var n=g(t);if(!n)throw"No item found for cuid "+t.toString();o(n,null,"recovered"),k(t),"function"==typeof e.ok&&e.ok(n),"function"==typeof e.end&&e.end()}catch(i){throw"function"==typeof e.err&&e.err(i),i}}function S(t){try{if(t=t||{},0==w())throw"No data in memory";for(var n=0;n<w();n++)o(e[n],null,"recovered"),"function"==typeof t.ok&&t.ok(e[n]);v(),"function"==typeof t.end&&t.end()}catch(r){throw"function"==typeof t.err&&t.err(r),r}}function x(t,n){try{n=n||{};var r=[],o=[];return $.extend(o,e),o.forEach(function(e){t(e)&&("function"==typeof n.ok&&n.ok(e),r.push(e))}),"function"==typeof n.end&&n.end(r),r}catch(i){throw"function"==typeof n.err&&n.err(i),i}}function N(t,n){try{n=n||{};var o=[];$.extend(o,e);var i=o.map(t);return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}}function O(t,n){try{n=n||{};if(void 0==t)throw"Missing property name.";if("string"!=typeof t||0==t.length)throw"Property name should be String";var o=[];$.extend(o,e);var i=o.map(function(e){return e[t]}).distinct();return"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end(),i}catch(f){throw"function"==typeof n.err&&n.err(f),f}}function b(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){throw"function"==typeof fun.err&&fun.err(t),t}}function M(n){try{if(n=n||{},!b())throw"No local storage supported.";localStorage.live=JSON.stringify(t),localStorage.removed=JSON.stringify(e),"function"==typeof n.ok&&n.ok(),"function"==typeof n.end&&n.end()}catch(r){throw"function"==typeof n.err&&n.err(r),r}}function j(n){try{if(n=n||{},!b())throw"No local storage supported.";t=[],e=[],t=JSON.parse(localStorage.live),e=JSON.parse(localStorage.removed),"function"==typeof n.ok&&n.ok(),"function"==typeof n.end&&n.end()}catch(r){throw"function"==typeof n.err&&n.err(r),r}}function J(t){try{if(t=t||{},!b())throw"No local storage supported.";localStorage.live=null,localStorage.removed=null,"function"==typeof t.ok&&t.ok(),"function"==typeof t.end&&t.end()}catch(e){throw"function"==typeof t.err&&t.err(e),e}}function T(e,n){try{n=n||{};var r={};if(!e)throw"Missing ajax url parameter";r.async=!1,r.method="GET",r.url=e,t=[];var i=$.ajax(r).responseText;"string"==typeof i&&(i=JSON.parse(i)),i&&o(i,{},"origin"),"function"==typeof n.ok&&n.ok(i),"function"==typeof n.end&&n.end()}catch(f){throw"function"==typeof n.err&&n.err(f),f}}function R(e,n,r){try{r=r||{};var o={};if(void 0==n&&(n=!1),!e)throw"Missing ajax url parameter";if(!t||t==[])throw"No data found.";o.data=0==n?{data:t}:JSON.stringify(t),o.async=!1,o.method="POST",o.url=e;var i=$.ajax(o).responseText;return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(f){throw"function"==typeof r.err&&r.err(f),f}}function A(n,r,o,i){try{i=i||{};var f={};if(void 0==o&&(o=!1),!n)throw"Missing ajax url parameter";if(!t||t==[]&&!e||e==[])throw"No data found.";var u=[];p(r).forEach(function(t){u.push(t)}),x(r).forEach(function(t){u.push(t)}),f.data=0==o?{data:u.map(r)}:JSON.stringify(u.map(r)),f.async=!1,f.method="POST",f.url=n;var c=$.ajax(f).responseText;return"function"==typeof i.ok&&i.ok(c),"function"==typeof i.end&&i.end(),c}catch(a){throw"function"==typeof i.err&&i.err(a),a}}function D(t,n,r){try{r=r||{};var o={};if(void 0==n&&(n=!1),!t)throw"Missing ajax url parameter";if(!e||e==[])throw"No data found.";o.data=0==n?{data:e}:JSON.stringify(e),o.async=!1,o.method="POST",o.url=t;var i=$.ajax(o).responseText;return"function"==typeof r.ok&&r.ok(i),"function"==typeof r.end&&r.end(),i}catch(f){throw"function"==typeof r.err&&r.err(f),f}}function P(n,r,o,i){try{i=i||{};var f={};if(void 0==o&&(o=!1),!n)throw"Missing ajax url parameter";if(!r)throw"Missing filter criteria parameter";if(!t||t==[]&&!e||e==[])throw"No data found.";var u=[];p(r).forEach(function(t){u.push(t)}),x(r).forEach(function(t){u.push(t)}),f.data=0==o?{data:u}:JSON.stringify(u),f.async=!1,f.method="POST",f.url=n;var c=$.ajax(f).responseText;return"function"==typeof i.ok&&i.ok(c),"function"==typeof i.end&&i.end(),c}catch(a){throw"function"==typeof i.err&&i.err(a),a}}function B(t,e,n,o){try{o=o||{};var i={};if(r(t),void 0==n&&(n=!1),!e)throw"Missing ajax url parameter";var f="";try{f=d(t)}catch(u){f=g(t)}if("string"==typeof f)throw"No item found for cuid "+t;i.data=0==n?f:JSON.stringify(f),i.async=!1,i.method="POST",i.url=e;var c=$.ajax(i).responseText;return"function"==typeof o.ok&&o.ok(f,c),"function"==typeof o.end&&o.end(c),c}catch(u){throw"function"==typeof o.err&&o.err(u),u}}function C(t){var e=+new Date;t();var n=+new Date;return n-e}var t=[],e=[];return Array.prototype.unique=function(){var t=JSON.stringify(this);t=JSON.parse(t);var e=JSON.stringify(this);return t.forEach(function(n){var r=e.indexOf(JSON.stringify(n)),o=e.indexOf(JSON.stringify(n),r+JSON.stringify(n).length);o>-1&&t.splice(t.indexOf(n),1)}),t},Array.prototype.distinct=function(){var e,n,r,t=[this[0]];for(e=1;e<this.length;e++){for(r=1,n=0;n<t.length;n++)if(this[e]==t[n]){r=0;break}r&&t.push(this[e])}return t},window.runAsync=function(t,e,n,r){var o={fn:t,arguments:e,callback:n};setTimeout(function(){o.callback=o.callback||function(){},o.callback(o.fn.apply(void 0,o.arguments))},void 0==r?0:r)},{add:o,remove:i,update:f,"delete":u,setData:c,getAll:a,getByCUID:d,length:s,filter:p,map:y,uniqueProp:l,getAllRemoved:h,getRemovedByCUID:g,cleanRemoved:v,lengthRemoved:w,destroyRemovedByCUID:k,recoverRemovedByCUID:m,recoverAllRemoved:S,filterRemoved:x,mapRemoved:N,uniquePropRemoved:O,isLocalStorageSupported:b,saveLocalStorage:M,loadLocalStorage:j,cleanLocalStorage:J,serverLoad:T,serverSendAll:R,serverSendAllMap:A,serverSendAllRemoved:D,serverSendFilter:P,serverSendByCUID:B,performance:C}};